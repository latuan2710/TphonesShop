<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Tphones</title>
	<link rel="stylesheet" href="/css/(user)bootstrap.min.css">
	<link rel="stylesheet" href="/css/font-awesome.min.css">
	<link rel="stylesheet" href="/css/ionicons.min.css">
	<style>
		body {
			background-color: rgb(247, 247, 247);
		}

		header {
			padding: 15px;
			border-bottom: 1px solid rgb(215, 215, 215);
		}

		header h1>a {
			color: rgb(0, 0, 0);
		}

		header h1>a:hover {
			text-decoration: none;
			color: rgb(0, 0, 0);
		}

		header .cart>a {
			color: rgb(0, 0, 0);

		}

		header span::before {
			content: "\f110";
			font-size: 40px;
			display: inline-block;
			margin-right: 10px;
			font-family: Ionicons;
			text-rendering: auto;
			line-height: 1;
		}

		main {
			margin-top: 30px;
		}

		main>.container>.row>div>div {
			background-color: #fff;
			border-radius: 10px;
			padding: 20px;
			gap: 10px;
			box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.4);
			-webkit-box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.4);
			-moz-box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.4);
		}

		main form>div {
			margin-bottom: 50px;
		}

		p.note {
			color: rgba(0, 0, 0, 0.56);
		}

		.payment div p {
			padding: 15px;
			margin: 0;
		}

		.payment div p:nth-child(1) {
			border: 1px solid #ff6a00;
			background-color: #fff4f2;
			border-top-right-radius: 10px;
			border-top-left-radius: 10px;
		}

		.payment div p:nth-child(2) {
			border: 1px solid rgb(222, 222, 222);
			background-color: rgb(244, 244, 244);
			border-bottom-left-radius: 10px;
			border-bottom-right-radius: 10px;
			text-align: center;
		}

		.single-product div {
			width: 70px;
			height: 80px;
			padding: 3px;
			border: 1px solid rgb(223, 223, 223);
			border-radius: 10px;
			background-color: rgb(248, 248, 248);
			cursor: pointer;
		}

		.single-product .single-product-name {
			cursor: pointer;
		}

		.single-product .position-absolute {
			top: -5px;
			right: -5px;
			border-radius: 50%;
			background-color: rgba(0, 0, 0, 0.56);
			color: #fff;
			width: 20px;
			height: 20px;
			font-size: small;
			text-align: center;
			font-weight: bold;
		}

		.totalPriceContent {
			margin-top: 20px !important;
		}

		.totalPriceContent p {
			font-weight: bold;
			margin: 0;
		}
	</style>
</head>

<body>
	<header>
		<div class="container d-flex justify-content-between align-items-center">
			<div class="logo">
				<h1><a href="/">Tphones</a></h1>
			</div>
			<div class="cart">
				<a href="/cart">
					<span class="cart-info"></span>
				</a>
			</div>
		</div>
	</header>
	<main>
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-12">
					<div>
						<form method="post" action="/shipping">
							<div>
								<h3>Billing Detail</h3>
								<div class="row">
									<div class="form-group col-md-6 col-12">
										<input type="text" class="form-control" placeholder="First Name"
											name="firstName">
									</div>
									<div class="form-group col-md-6 col-12">
										<input type="text" class="form-control" placeholder="Last Name" name="lastName">
									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-6 col-12">
										<input type="text" class="form-control" placeholder="Phone Number" name="phone"
											th:value="${session.user.phone}">
									</div>
									<div class="form-group col-md-6 col-12">
										<input type="text" class="form-control" placeholder="Email Address" name="email"
											th:value="${session.user.email}">
									</div>
								</div>
								<div class="form-group">
									<textarea class="form-control" name="address" placeholder="Enter address here"
										th:text="${session.user.address}"></textarea>
								</div>
							</div>
							<div class="payment">
								<h3>Payment</h3>
								<p class="note">All transactions are secure and encrypted.</p>
								<div>
									<p>Cash on Delivery (COD)</p>
									<p>We take your payment after arriving at your product.</p>
								</div>
							</div>
							<button type="submit" class="btn btn-primary w-100">Complete Order</button>
						</form>
					</div>
				</div>
				<div class="col-md-4 col-12">
					<div>
						<div class="single-product d-flex justify-content-between align-items-center m-2"
							th:each="orders : ${order.orderDetails}" th:name="${orders.product.name}">
							<div class="position-relative d-flex justify-content-center align-items-center">
								<img th:src="${orders.product.featuredImage}" alt="product image" loading="lazy"
									class="mw-100 mh-100 d-block">
								<span class="single-product-quantity position-absolute"
									th:text="${orders.quantity}">2</span>
							</div>
							<p class="single-product-name" style="width: 50%;" th:text="${orders.product.name}">Product
								Name</p>
							<p class="single-product-totalPrice" th:text="${'$'+orders.finalPrice}">$155</p>
						</div>
						<div class="totalPriceContent d-flex justify-content-end m-2">
							<p>Total: $[(${order.totalPrice})]</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
	<script src="/js/jquery_min.js"></script>
	<script>
		$('.single-product').on('click', '.position-relative,.single-product-name', (e) => {
			let name = $(e.target).parents('div.single-product').attr('name');
			console.log(name);
		})
	</script>
</body>

</html>